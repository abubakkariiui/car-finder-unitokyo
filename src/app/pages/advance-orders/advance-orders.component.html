<app-preloader *ngIf="loading"></app-preloader>


<main class="page-wrapper">
    <!-- Header-->
    <app-header id="top"></app-header>


    <section class="container my-5 pt-5 pb-lg-5">

        <div class="row mx-0 ">
            <div class="col-md-3  ">

                <app-searchform [small]="true"></app-searchform>

                <div class="card">
                    <div class="card-header bg-shadid-light">
                        <span class="">Like us on facebook</span>
                    </div>
                    <div class="card-body ">
                        <div class="fb-like fb_iframe_widget" data-href="https://www.facebook.com/yuasatrading"
                            data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"
                            fb-xfbml-state="rendered"
                            fb-iframe-plugin-query="action=like&amp;app_id=1586531728290446&amp;container_width=227&amp;href=https%3A%2F%2Fwww.facebook.com%2Fyuasatrading&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey&amp;share=false&amp;show_faces=false"
                            bis_skin_checked="1"><span
                                style="vertical-align: bottom; width: 90px; height: 28px;"><iframe name="f22c66e814a0ac"
                                    width="1000px" height="1000px" data-testid="fb:like Facebook Social Plugin"
                                    title="fb:like Facebook Social Plugin" frameborder="0" allowtransparency="true"
                                    allowfullscreen="true" scrolling="no" allow="encrypted-media"
                                    src="https://www.facebook.com/v2.3/plugins/like.php?action=like&amp;app_id=1586531728290446&amp;channel=https%3A%2F%2Fstaticxx.facebook.com%2Fx%2Fconnect%2Fxd_arbiter%2F%3Fversion%3D46%23cb%3Df1faf9f0bd407d8%26domain%3Dyuasatrading.com%26is_canvas%3Dfalse%26origin%3Dhttps%253A%252F%252Fyuasatrading.com%252Ff11773ee9e50fc%26relation%3Dparent.parent&amp;container_width=227&amp;href=https%3A%2F%2Fwww.facebook.com%2Fyuasatrading&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey&amp;share=false&amp;show_faces=false"
                                    style="border: none; visibility: visible; width: 90px; height: 28px;" class=""
                                    bis_size="{&quot;x&quot;:227,&quot;y&quot;:527,&quot;w&quot;:90,&quot;h&quot;:28,&quot;abs_x&quot;:227,&quot;abs_y&quot;:527}"></iframe></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-9  ">
                <div class="card">
                    <div class="card-header bg-shadid-light">
                        <span class="">ADVANCE ORDER
                        </span>
                    </div>
                    <div class="card-body">
                        <form class="needs-validation  " novalidate (ngSubmit)="validSubmit(toggleLoginModel)"
                            [formGroup]="validationform">
                            <div class="row">
                                <div class="col-12 col-lg-6">

                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="ManufacturerId">Make
                                            <span class="text-primary">*</span>
                                        </label>

                                        <select (ngModelChange)="onChangeBrand($event)" required
                                            formControlName="ManufacturerId"
                                            class="form-select  form-select-sm form-select-dark mb-2"
                                            *ngFor="let items of brandsData | async" id="ManufacturerId"
                                            [ngClass]="{'is-invalid': submit && form['ManufacturerId'].errors}">
                                            <option value="" disabled selected>Any make</option>
                                            <option *ngFor="let b of items" [value]="b.Id">
                                                <span class="dropdown-item-label">{{ b.Title }}</span>
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="ModelId">Model
                                            <span class="text-primary">*</span>
                                        </label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1" required
                                            formControlName="ModelId"
                                            [ngClass]="{'is-invalid': submit && form['ModelId'].errors}">
                                            <option value="" disabled selected>Any model</option>
                                            <option *ngFor="let model of modelsList" [value]="model.Id">
                                                {{ model.Title }}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="DriveTrain">Drive Train</label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1"
                                            formControlName="DriveTrain">
                                            <option value="" disabled selected>Any</option>
                                            <option value="TWD">
                                                TWD
                                            </option>
                                            <option value="SWD">
                                                SWD
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="CountryId">Country
                                            <span class="text-primary">*</span>
                                        </label>

                                        <select [ngClass]="{'is-invalid': submit && form['CountryId'].errors}"
                                            class="form-select form-select-sm form-select-dark" required id="c-subject"
                                            formControlName="CountryId">
                                            <option value="" selected disabled>Choose Country</option>
                                            <option *ngFor="let country of countriesList" [value]="country.Id">
                                                {{country.Name}}
                                            </option>
                                        </select>

                                    </div>

                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="Transmission">Transmission </label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1"
                                            formControlName="Transmission">
                                            <option value="" disabled selected>Transmission</option>
                                            <option value="1">AT</option>
                                            <option value="2">CAT</option>
                                            <option value="3">IAT</option>
                                            <option value="4">MT</option>
                                            <option value="5">NA</option>
                                        </select>


                                    </div>
                                </div>
                                <div class="col-12 col-lg-6">


                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="Color">Color </label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1"
                                            formControlName="Color">
                                            <option value="" disabled selected>Color</option>
                                            <option *ngFor="let c of colorsList" [value]="c">
                                                {{c}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="FuelType">Fuel Type</label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1"
                                            formControlName="FuelType">
                                            <option value="" disabled selected>Fuel Type</option>
                                            <option *ngFor="let f of fuelTypesList" [value]="f">
                                                {{f}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="EnginCapacity">Engin Capacity</label>
                                        <select class="form-select  form-select-sm form-select-dark mb-1"
                                            formControlName="EnginCapacity">
                                            <option value="" disabled selected>Engin Capacity</option>
                                            <option *ngFor="let e of enginCapacityList" [value]="e">
                                                {{e}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="mb-2 fields-elements">
                                        <label class="form-label text-dark" for="year">Year</label>
                                        <div class="range-slider range-slider-dark mb-1" data-start-min="1960"
                                            data-start-max="2023" data-min="1960" data-max="2023" data-step="1">
                                            <ngx-slider [(value)]="filters.YearFrom" id="year"
                                                [(highValue)]="filters.YearTo" [options]="YearOptions">
                                            </ngx-slider>
                                        </div>
                                    </div>


                                </div>
                                <div class="mb-2 fields-elements">
                                    <label class="form-label text-dark" for="Remarks">Remarks</label>
                                    <textarea class="form-control form-control-sm form-control-dark" type="textarea"
                                        id="Remarks" placeholder="Remarks" formControlName="Remarks"></textarea>
                                </div>
                                <div style="margin-top: 10px;">
                                    <ngx-recaptcha2
                                        #captchaElem
                                        siteKey="6LfRqmQjAAAAAEi7VxuzQzomnOKSSqySjTPU2tHY" 
                                        formControlName="captcha">
                                    </ngx-recaptcha2>
                                </div>
                                <div class="mb-2 fields-elements my-1">
                                    <input class="form-check-input" type="checkbox" id="isWished"
                                        formControlName="wished">

                                    <label class="form-check-label px-2" for="isWished"><span class='opacity-70'>
                                            Is Wished</span> </label>
                                </div>
                            </div>

                            <div class="d-flex    align-items-center justify-content-between">
                                <button [disabled]="isLoading" class="btn btn-primary  mt-3 " name="btn1"
                                    type="submit">Place Advance Order
                                    <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2" role="status"
                                        aria-hidden="true"></span>
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>


    </section>
    <!-- Body type selection-->


    <app-types></app-types>


</main>

<!-- Footer-->
<div class="bg-dark">
    <app-footer></app-footer>
</div>

<ng-template #toggleLoginModel let-modal>

    <div class="modal-body ">
        <button class="btn-close btn-close-dakr position-absolute top-0 end-0 mt-3  mx-3 px-3" type="button"
            data-bs-dismiss="modal" (click)="modal.dismiss('Cross click')"></button>
        <app-signin [isDialog]="true" route="/advance-order" (routeChange)="modal.close('Close click')"
            [showBackButton]="false">
        </app-signin>
    </div>

</ng-template>